/*
Some programs to allow the SSD1351 OLED to work with Adafruit's Feather Huzzah ESP8266
*/
#include <stdint.h>
#include <arduino.h>

#ifndef _FEATHEROLED_H
#define _FEATHEROLED_H

class featherOLED {
	uint8_t max_x, max_y, sclk, mosi, cs, DCpin;
	uint8_t letter[27][16] = {	{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0}, // 0 = @
								{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0}, // 1 = A
								{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0}, // 2 = B
								{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0}, // 3 = C
								{0x0,0x0,0x0,0x0,0x78,0x44,0x42,0x42,0x42,0x42,0x42,0x44,0x78,0x0,0x0,0x0}, // 4 = D
								{0x0,0x0,0x0,0x0,0x7E,0x40,0x40,0x40,0x7C,0x40,0x40,0x40,0x7E,0x0,0x0,0x0}, // 5 = E
								{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0}, // 6 = F
								{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0}, // 7 = G
								{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0}, // 8 = H
								{0x0,0x0,0x0,0x0,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x0,0x0,0x0}, // 9 = I
								{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0}, // 10 = J
								{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0}, // 11 = K
								{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0}, // 12 = L
								{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0}, // 13 = M
								{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0}, // 14 = N
								{0x0,0x0,0x0,0x0,0x3C,0x42,0x81,0x81,0x81,0x81,0x81,0x42,0x3C,0x0,0x0,0x0}, // 15 = O
								{0x0,0x0,0x0,0x0,0x7C,0x42,0x42,0x42,0x42,0x7C,0x40,0x40,0x40,0x0,0x0,0x0}, // 16 = P
								{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0}, // 17 = Q
								{0x0,0x0,0x0,0x0,0x7C,0x42,0x42,0x42,0x42,0x7C,0x42,0x42,0x42,0x0,0x0,0x0}, // 18 = R
								{0x0,0x0,0x0,0x0,0x78,0x84,0x84,0xC0,0x3C,0x2,0x82,0xC2,0x7C,0x0,0x0,0x0}, // 19 = S
								{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0}, // 20 = T
								{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0}, // 21 = U
								{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0}, // 22 = V
								{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0}, // 23 = W
								{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0}, // 24 = X
								{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0}, // 25 = Y
								{0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0} // 26 = Z
							};
public: 
	featherOLED(uint8_t,uint8_t,uint8_t,uint8_t,uint8_t,uint8_t);
	void print(uint8_t, uint8_t, uint8_t, uint8_t, uint8_t, char*);
	void init();
	void blank();

private:
	void Font1x1(uint8_t, uint8_t, uint8_t, uint8_t, uint8_t, uint8_t*);
	void Font2x2(uint8_t, uint8_t, uint8_t, uint8_t, uint8_t, uint8_t*);
	void SPIwrite(uint8_t);
	void writeCommand(uint8_t);
	void writeData(uint8_t);
};

#endif